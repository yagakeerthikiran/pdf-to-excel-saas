# Complete Step-by-Step Service Setup Guide

## üîë Service Accounts Required

### 1. AWS Account Setup
- **Purpose**: Infrastructure hosting
- **Cost**: ~$150-250/month for production
- **Setup**: Already configured with `aws configure`

### 2. Stripe Account Setup (Required for Payments)
**Step-by-step:**
1. Go to: https://stripe.com/
2. Create account with business email: yagakeerthikiran@gmail.com
3. Complete business verification
4. Navigate to **Dashboard ‚Üí Developers ‚Üí API Keys**
5. Copy these keys:
   - **Publishable key** (starts with `pk_live_` or `pk_test_`)
   - **Secret key** (starts with `sk_live_` or `sk_test_`)
6. Create webhook:
   - Go to **Developers ‚Üí Webhooks**
   - Add endpoint: `https://yourdomain.com/api/webhooks/stripe`
   - Select events: `customer.subscription.created`, `customer.subscription.updated`, `customer.subscription.deleted`, `invoice.payment_succeeded`, `invoice.payment_failed`
   - Copy **Webhook secret** (starts with `whsec_`)
7. Create products:
   - Go to **Products ‚Üí Add Product**
   - Create "Pro Plan" - $9.99/month recurring
   - Copy the **Price ID** (starts with `price_`)

### 3. Supabase Account Setup (Required for Authentication)
**Step-by-step:**
1. Go to: https://supabase.com/
2. Sign up with GitHub account or email: yagakeerthikiran@gmail.com
3. Create new project:
   - **Name**: pdf-excel-saas
   - **Region**: US East (closest to your AWS region)
   - **Database password**: Generate strong password (save it!)
4. Wait for project creation (2-3 minutes)
5. Go to **Settings ‚Üí API**
6. Copy these values:
   - **Project URL** (like `https://abcdefg.supabase.co`)
   - **anon/public key** (starts with `eyJhbGciOiJIUzI1NiIs`)
   - **service_role key** (starts with `eyJhbGciOiJIUzI1NiIs`)
7. Configure authentication:
   - Go to **Authentication ‚Üí Settings**
   - Enable **Email confirmations**
   - Set **Site URL**: `https://yourdomain.com`
   - Add **Redirect URLs**: `https://yourdomain.com/auth/callback`

### 4. Sentry Account Setup (Required for Error Tracking)
**Step-by-step:**
1. Go to: https://sentry.io/
2. Sign up with email: yagakeerthikiran@gmail.com
3. Create organization: `pdf-excel-saas`
4. Create project:
   - **Platform**: Next.js
   - **Project name**: pdf-excel-saas
5. Copy these values:
   - **DSN** (starts with `https://`)
   - **Auth Token**: Go to **Settings ‚Üí Auth Tokens ‚Üí Create New Token**
     - **Scopes**: `project:read`, `project:write`, `project:releases`
     - Copy the token
6. Note your **Organization slug** and **Project slug**

### 5. PostHog Account Setup (Required for Analytics)
**Step-by-step:**
1. Go to: https://posthog.com/
2. Sign up with email: yagakeerthikiran@gmail.com
3. Create organization and project
4. Go to **Project Settings**
5. Copy these values:
   - **Project API Key** (starts with `phc_`)
   - **Host**: Use `https://us.i.posthog.com` (US region)
6. Go to **Settings ‚Üí Project API Keys**
7. Copy the **Project API Key** for server-side usage

### 6. Domain Setup (Choose Your Domain)
**Option A: Purchase New Domain**
1. Go to: https://domains.google.com/ or https://namecheap.com/
2. Search for available domain (e.g., `pdftoexcel.com`, `convertpdf.io`)
3. Purchase domain (~$10-15/year)

**Option B: Use Subdomain (Free)**
1. If you already own a domain, you can use a subdomain like `pdf.yourdomain.com`

**Domain Configuration (After Infrastructure Deployment):**
- You'll get an ALB DNS name from AWS (like `pdf-excel-alb-123456.us-east-1.elb.amazonaws.com`)
- Create CNAME record: `yourdomain.com` ‚Üí ALB DNS name
- Create CNAME record: `www.yourdomain.com` ‚Üí ALB DNS name

### 7. Email Setup (Optional but Recommended)
**Option A: Use AWS SES (Recommended)**
1. Go to AWS Console ‚Üí Simple Email Service
2. Verify your domain or email: yagakeerthikiran@gmail.com
3. Request production access (if needed)

**Option B: Use Gmail SMTP**
1. Enable 2-factor authentication on Gmail
2. Generate App Password: Google Account ‚Üí Security ‚Üí App Passwords
3. Use SMTP settings:
   - **Host**: smtp.gmail.com
   - **Port**: 587
   - **User**: yagakeerthikiran@gmail.com
   - **Password**: [App Password]

## üìù Environment Variables Template

Based on your service setup, you'll need these values:

```bash
# === AWS Configuration ===
AWS_ACCESS_KEY_ID=AKIA****************
AWS_SECRET_ACCESS_KEY=****************************************
AWS_REGION=us-east-1
AWS_S3_BUCKET_NAME=pdf-excel-saas-prod

# === Database (Auto-generated by Terraform) ===
DATABASE_URL=postgresql://dbadmin:****@pdf-excel-saas-prod-db.******.us-east-1.rds.amazonaws.com:5432/pdfexcel

# === Application URLs ===
NEXT_PUBLIC_APP_URL=https://yourdomain.com
BACKEND_URL=https://yourdomain.com
BACKEND_API_KEY=your_secure_backend_api_key_32_chars_min

# === Stripe Payments ===
STRIPE_SECRET_KEY=sk_live_************************************************
STRIPE_WEBHOOK_SECRET=whsec_********************************
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_live_************************************************
NEXT_PUBLIC_STRIPE_PRO_PRICE_ID=price_**********************

# === Supabase Authentication ===
SUPABASE_URL=https://your-project-id.supabase.co
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.****
NEXT_PUBLIC_SUPABASE_URL=https://your-project-id.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.****

# === Sentry Error Tracking ===
NEXT_PUBLIC_SENTRY_DSN=https://********************************@o******.ingest.sentry.io/********
SENTRY_ORG=pdf-excel-saas
SENTRY_PROJECT=pdf-excel-saas
SENTRY_AUTH_TOKEN=sntrys_********************************

# === PostHog Analytics ===
NEXT_PUBLIC_POSTHOG_KEY=phc_****************************************************
NEXT_PUBLIC_POSTHOG_HOST=https://us.i.posthog.com
POSTHOG_PROJECT_API_KEY=phc_****************************************************
POSTHOG_HOST=https://us.i.posthog.com

# === Email Notifications (Instead of Slack) ===
NOTIFICATION_EMAIL=yagakeerthikiran@gmail.com
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=yagakeerthikiran@gmail.com
SMTP_PASS=your_gmail_app_password

# === Security ===
JWT_SECRET_KEY=your_jwt_secret_key_at_least_32_characters_long_for_security
ENCRYPTION_KEY=your_32_byte_encryption_key_for_data_protection

# === Monitoring Agent ===
AUTO_FIX_ENABLED=true
MONITORING_INTERVAL=60
ERROR_THRESHOLD=10

# === GitHub Integration ===
GITHUB_TOKEN=github_pat_11********************************
REPO_OWNER=yagakeerthikiran
REPO_NAME=pdf-to-excel-saas
```

## üéØ Next Steps After Service Setup

1. **Save all credentials securely** (use a password manager)
2. **Create .env.prod file** with actual values
3. **Deploy infrastructure** with fixed Terraform
4. **Configure domain DNS** after getting ALB endpoint
5. **Set up SSL certificate** in AWS Certificate Manager
6. **Deploy application** via GitHub Actions
7. **Test complete flow**: signup ‚Üí upload ‚Üí convert ‚Üí download ‚Üí billing

## üí∞ Cost Breakdown (Monthly)

- **AWS Infrastructure**: $150-250
- **Stripe**: 2.9% + $0.30 per transaction
- **Supabase**: Free tier (50k MAU)
- **Sentry**: Free tier (5k errors/month)
- **PostHog**: Free tier (1M events/month)
- **Domain**: $1-2/month
- **Total Fixed Cost**: ~$150-250/month + transaction fees

## üîí Security Checklist

- [ ] Enable 2FA on all service accounts
- [ ] Use strong, unique passwords
- [ ] Store credentials in password manager
- [ ] Never commit real credentials to Git
- [ ] Use environment variables for all secrets
- [ ] Enable audit logging where available
- [ ] Regularly review access logs
- [ ] Set up billing alerts on AWS
