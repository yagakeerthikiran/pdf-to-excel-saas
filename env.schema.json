{
  "environments": {
    "local": {
      "required": [
        "AWS_ACCESS_KEY_ID",
        "AWS_SECRET_ACCESS_KEY", 
        "AWS_REGION",
        "DATABASE_URL",
        "SUPABASE_URL",
        "SUPABASE_SERVICE_ROLE_KEY",
        "NEXT_PUBLIC_SUPABASE_URL",
        "NEXT_PUBLIC_SUPABASE_ANON_KEY",
        "STRIPE_SECRET_KEY",
        "NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY",
        "STRIPE_WEBHOOK_SECRET",
        "NEXT_PUBLIC_STRIPE_PRO_PRICE_ID"
      ],
      "optional": [
        "NEXT_PUBLIC_APP_URL",
        "BACKEND_URL",
        "AWS_S3_BUCKET_NAME",
        "SMTP_HOST",
        "SMTP_PORT", 
        "SMTP_USER",
        "SMTP_PASSWORD",
        "NOTIFICATION_EMAIL",
        "NEXT_PUBLIC_SENTRY_DSN",
        "SENTRY_ORG",
        "SENTRY_PROJECT",
        "NEXT_PUBLIC_POSTHOG_KEY",
        "NEXT_PUBLIC_POSTHOG_HOST"
      ]
    },
    "staging": {
      "required": [
        "AWS_ACCESS_KEY_ID",
        "AWS_SECRET_ACCESS_KEY",
        "AWS_REGION", 
        "DATABASE_URL",
        "SUPABASE_URL",
        "SUPABASE_SERVICE_ROLE_KEY",
        "NEXT_PUBLIC_SUPABASE_URL",
        "NEXT_PUBLIC_SUPABASE_ANON_KEY",
        "STRIPE_SECRET_KEY",
        "NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY",
        "STRIPE_WEBHOOK_SECRET",
        "NEXT_PUBLIC_STRIPE_PRO_PRICE_ID",
        "NEXT_PUBLIC_APP_URL",
        "BACKEND_URL"
      ],
      "optional": [
        "AWS_S3_BUCKET_NAME",
        "SMTP_HOST",
        "SMTP_PORT",
        "SMTP_USER", 
        "SMTP_PASSWORD",
        "NOTIFICATION_EMAIL",
        "NEXT_PUBLIC_SENTRY_DSN",
        "SENTRY_ORG",
        "SENTRY_PROJECT",
        "NEXT_PUBLIC_POSTHOG_KEY",
        "NEXT_PUBLIC_POSTHOG_HOST"
      ]
    },
    "production": {
      "required": [
        "AWS_ACCESS_KEY_ID",
        "AWS_SECRET_ACCESS_KEY",
        "AWS_REGION",
        "DATABASE_URL", 
        "SUPABASE_URL",
        "SUPABASE_SERVICE_ROLE_KEY",
        "NEXT_PUBLIC_SUPABASE_URL",
        "NEXT_PUBLIC_SUPABASE_ANON_KEY",
        "STRIPE_SECRET_KEY",
        "NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY", 
        "STRIPE_WEBHOOK_SECRET",
        "NEXT_PUBLIC_STRIPE_PRO_PRICE_ID",
        "NEXT_PUBLIC_APP_URL",
        "BACKEND_URL",
        "AWS_S3_BUCKET_NAME",
        "SMTP_HOST",
        "SMTP_PORT",
        "SMTP_USER",
        "SMTP_PASSWORD",
        "NOTIFICATION_EMAIL"
      ],
      "optional": [
        "NEXT_PUBLIC_SENTRY_DSN",
        "SENTRY_ORG", 
        "SENTRY_PROJECT",
        "NEXT_PUBLIC_POSTHOG_KEY",
        "NEXT_PUBLIC_POSTHOG_HOST"
      ]
    }
  },
  "validation_rules": {
    "AWS_ACCESS_KEY_ID": {
      "pattern": "^AKIA[0-9A-Z]{16}$",
      "description": "Must start with AKIA and be 20 characters total"
    },
    "AWS_SECRET_ACCESS_KEY": {
      "min_length": 40,
      "description": "AWS secret access key must be at least 40 characters"
    },
    "AWS_REGION": {
      "pattern": "^ap-southeast-2$",
      "description": "Must be Sydney region (ap-southeast-2)"
    },
    "DATABASE_URL": {
      "pattern": "^postgresql://.*@.*\\.ap-southeast-2\\.rds\\.amazonaws\\.com:5432/.*$",
      "description": "Must be PostgreSQL URL pointing to Sydney RDS"
    },
    "SUPABASE_URL": {
      "pattern": "^https://[a-z0-9]+\\.supabase\\.co$",
      "description": "Must be valid Supabase project URL"
    },
    "SUPABASE_SERVICE_ROLE_KEY": {
      "pattern": "^eyJ[A-Za-z0-9_-]*\\.[A-Za-z0-9_-]*\\.[A-Za-z0-9_-]*$",
      "min_length": 100,
      "description": "Must be valid JWT token (starts with eyJ)"
    },
    "NEXT_PUBLIC_SUPABASE_ANON_KEY": {
      "pattern": "^eyJ[A-Za-z0-9_-]*\\.[A-Za-z0-9_-]*\\.[A-Za-z0-9_-]*$", 
      "min_length": 100,
      "description": "Must be valid JWT token (starts with eyJ)"
    },
    "STRIPE_SECRET_KEY": {
      "pattern": "^sk_(live|test)_[A-Za-z0-9]{24,}$",
      "description": "Must start with sk_live_ or sk_test_"
    },
    "NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY": {
      "pattern": "^pk_(live|test)_[A-Za-z0-9]{24,}$",
      "description": "Must start with pk_live_ or pk_test_"
    },
    "STRIPE_WEBHOOK_SECRET": {
      "pattern": "^whsec_[A-Za-z0-9]{24,}$",
      "description": "Must start with whsec_"
    },
    "NEXT_PUBLIC_STRIPE_PRO_PRICE_ID": {
      "pattern": "^price_[A-Za-z0-9]{24,}$",
      "description": "Must start with price_"
    },
    "NEXT_PUBLIC_APP_URL": {
      "pattern": "^https?://.*$",
      "description": "Must be valid URL starting with http:// or https://"
    },
    "BACKEND_URL": {
      "pattern": "^https?://.*$",
      "description": "Must be valid URL starting with http:// or https://"
    },
    "AWS_S3_BUCKET_NAME": {
      "pattern": "^[a-z0-9][a-z0-9-]{1,61}[a-z0-9]$",
      "description": "Must be valid S3 bucket name (lowercase, no underscores)"
    },
    "SMTP_PORT": {
      "pattern": "^(25|465|587|2525)$",
      "description": "Must be valid SMTP port (25, 465, 587, or 2525)"
    },
    "NOTIFICATION_EMAIL": {
      "pattern": "^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$",
      "description": "Must be valid email address"
    },
    "NEXT_PUBLIC_SENTRY_DSN": {
      "pattern": "^https://[a-f0-9]{32}@[a-z0-9]+\\.ingest\\.sentry\\.io/[0-9]+$",
      "description": "Must be valid Sentry DSN URL"
    },
    "NEXT_PUBLIC_POSTHOG_KEY": {
      "pattern": "^phc_[A-Za-z0-9]{43}$",
      "description": "Must start with phc_ and be 47 characters total"
    },
    "NEXT_PUBLIC_POSTHOG_HOST": {
      "pattern": "^https://.*$",
      "description": "Must be valid HTTPS URL"
    }
  }
}
